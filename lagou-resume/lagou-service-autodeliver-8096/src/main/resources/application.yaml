spring:
  application:
    name: lagou-service-autodeliver

#\u6CE8\u518C\u5230Eureka\u670D\u52A1\u4E2D\u5FC3
eureka:
  client:
    service-url:
      #\u6CE8\u518C\u5230\u96C6\u7FA4, \u9017\u53F7\u62FC\u63A5
      defaultZone: http://EurekaServerA:8761/eureka,http://EurekaServerB:8762/eureka
  instance:
    prefer-ip-address: true #\u670D\u52A1\u5B9E\u4F8B\u4E2D\u663E\u793Aip,\u800C\u4E0D\u662F\u4E3B\u673A\u540D
    instance-id: ${spring.cloud.client.ip-address}:${spring.application.name}:${server.port}:@project.version@ #\u5B9E\u4F8B\u540D\u79F0,\u652F\u6301\u81EA\u5B9A\u4E49

#\u9488\u5BF9\u7684\u88AB\u8C03\u2F64\u2F45\u5FAE\u670D\u52A1\u540D\u79F0,\u4E0D\u52A0\u5C31\u662F\u5168\u5C40\u2F63\u6548 (\u670D\u52A1\u540D\u9700\u8981\u5927\u5199, \u5C0F\u5199\u4E0D\u751F\u6548)
#LAGOU-SERVICE-RESUME:
#  ribbon:
#    NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RoundRobinRule #\u8D1F\u8F7D\u7B56\u7565\u8C03\u6574

# springboot\u4E2D\u66B4\u9732\u5065\u5EB7\u68C0\u67E5\u7B49\u65AD\u70B9\u63A5\u2F1D
management:
  endpoints:
    web:
      exposure:
        include: "*"
  # \u662F\u5426\u66B4\u9732\u5065\u5EB7\u63A5\u2F1D\u7684\u7EC6\u8282
  endpoint:
    health:
      show-details: always
server:
  port: 8096


#\u9488\u5BF9\u7684\u88AB\u8C03\u2F64\u2F45\u5FAE\u670D\u52A1\u540D\u79F0,\u4E0D\u52A0\u5C31\u662F\u5168\u5C40\u2F63\u6548
lagou-service-resume:
  ribbon:
  #\u8BF7\u6C42\u8FDE\u63A5\u8D85\u65F6\u65F6\u95F4
    ConnectTimeout: 2000
  #\u8BF7\u6C42\u5904\u7406\u8D85\u65F6\u65F6\u95F4 Feign\u7684\u8D85\u65F6\u65F6\u957F\u8BBE\u7F6E
    ReadTimeout: 2000
  #\u5BF9\u6240\u6709\u64CD\u4F5C\u90FD\u8FDB\u2F8F\u91CD\u8BD5
    OkToRetryOnAllOperations: true
  ####\u6839\u636E\u5982\u4E0A\u914D\u7F6E\uFF0C\u5F53\u8BBF\u95EE\u5230\u6545\u969C\u8BF7\u6C42\u7684\u65F6\u5019\uFF0C\u5B83\u4F1A\u518D\u5C1D\u8BD5\u8BBF\u95EE\u2F00\u6B21\u5F53\u524D\u5B9E\u4F8B\uFF08\u6B21\u6570\u7531MaxAutoRetries\u914D\u7F6E\uFF09\uFF0C
  ####\u5982\u679C\u4E0D\u2F8F\uFF0C\u5C31\u6362\u2F00\u4E2A\u5B9E\u4F8B\u8FDB\u2F8F\u8BBF\u95EE\uFF0C\u5982\u679C\u8FD8\u4E0D\u2F8F\uFF0C\u518D\u6362\u2F00\u6B21\u5B9E\u4F8B\u8BBF\u95EE\uFF08\u66F4\u6362\u6B21\u6570\u7531MaxAutoRetriesNextServer\u914D\u7F6E\uFF09\uFF0C
  ####\u5982\u679C\u4F9D\u7136\u4E0D\u2F8F\uFF0C\u8FD4\u56DE\u5931\u8D25\u4FE1\u606F\u3002
    MaxAutoRetries: 0 #\u5BF9\u5F53\u524D\u9009\u4E2D\u5B9E\u4F8B\u91CD\u8BD5\u6B21\u6570\uFF0C\u4E0D\u5305\u62EC\u7B2C\u2F00\u6B21\u8C03\u2F64
    MaxAutoRetriesNextServer: 0 #\u5207\u6362\u5B9E\u4F8B\u7684\u91CD\u8BD5\u6B21\u6570
    NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule #\u8D1F\u8F7D\u7B56\u7565\u8C03\u6574

logging:
  level:
  # Feign\u2F47\u5FD7\u53EA\u4F1A\u5BF9\u2F47\u5FD7\u7EA7\u522B\u4E3Adebug\u7684\u505A\u51FA\u54CD\u5E94
    com.lz.service.ResumeServiceFeignClient: debug

# \u5F00\u542FFeign\u7684\u7194\u65AD\u529F\u80FD
feign:
  hystrix:
    enabled: true
  compression:
    request:
      enabled: true # \u5F00\u542F\u8BF7\u6C42\u538B\u7F29
      mime-types: text/html,application/xml,application/json # \u8BBE\u7F6E\u538B\u7F29\u7684\u6570\u636E\u7C7B\u578B\uFF0C\u6B64\u5904\u4E5F\u662F\u9ED8\u8BA4\u503C
      min-request-size: 2048 # \u8BBE\u7F6E\u89E6\u53D1\u538B\u7F29\u7684\u2F24\u2F29\u4E0B\u9650\uFF0C\u6B64\u5904\u4E5F\u662F\u9ED8\u8BA4\u503C
    response:
      enabled: true # \u5F00\u542F\u54CD\u5E94\u538B\u7F29

hystrix:
  command:
    default:
      execution:
        isolation:
          thread:
          #Hystrix\u7684\u8D85\u65F6\u65F6\u2ED3\u8BBE\u7F6E,\u548C\u4E0A\u9762ribbon\u7684\u8D85\u65F6\u65F6\u95F4\u6BD4\u8F83\u53D6\u6700\u5C0F\u503C,\u8D85\u65F6\u540E\u8FD4\u56DE\u515C\u5E95\u6570\u636E
            # \u4E2A\u4EBA\u7406\u89E3\u662F\u4E0D\u5F71\u54CD\u4E0A\u9762\u7684\u91CD\u8BD5,\u4E24\u79CD\u8D85\u65F6\u573A\u666F,\u5148\u8FBE\u5230\u54EA\u79CD,\u90FD\u4F1A\u89E6\u53D1\u515C\u5E95
            timeoutInMilliseconds: 8000